<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Добавляем работника</title>
    <head th:insert="~{fragments/head :: head}"></head>
</head>
<body>
<div th:insert="~{fragments/header :: header}"></div>
<div th:insert="~{fragments/leftPanel :: leftPanel}"></div>

<div class="container center">
    <div class="text-center">
        <p class="lead">Работа без работников не работается</p>
    </div>
    <div class="row">
        <div class="col-md-7 col-lg-8">
            <h4 class="mb-3">Чуть ниже введите данные</h4>
            <form action="#" th:method="POST" th:action="@{/worker}">


                <div class="form-group">
                    <input type="hidden" id="orgId" th:name="orgId" th:value="*{orgId}"/>
                    <input type="hidden" id="workNow" th:name="workNow" th:value="TRUE"/>

                </div>


                <div class="row">
                    <div class="col-sm-6">
                        <label for="name" class="form-label">Имя</label>
                        <div class="input-group">
                            <input type="text" class="form-control" id="name" placeholder="Людвиг"
                                   th:name="name" maxlength="40" required>
                            <div class="invalid-feedback">
                                Пожалуйста введите имя работника.
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <label for="surname" class="form-label">Фамилия</label>
                        <div class="input-group">
                            <input type="text" class="form-control" id="surname"
                                   th:name="surname" placeholder="Бетховен" maxlength="40" required>
                            <div class="invalid-feedback">
                                Пожалуйста введите фамилию работника.
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-7">
                        <label for="patronymic" class="form-label">Отчество</label>
                        <div class="input-group">
                            <input type="text" class="form-control" id="patronymic"
                                   th:name="patronymic" maxlength="40" placeholder="Иоганнович" required>
                            <div class="invalid-feedback">
                                Пожалуйста введите отчество работника.
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-5">
                        <label for="birthday" class="form-label">Дата рождения</label>
                        <div class="input-group">
                            <input type="date" class="form-control" id="birthday"
                                   th:name="birthday" placeholder="1770-12-17"
                                   th:min="${currentDate.minusYears(120)}" th:max="${currentDate.minusYears(16)}"
                                   required>
                            <div class="invalid-feedback">
                                Пожалуйста введите дату рождения работника.
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-5">
                        <label for="phoneNumber" class="form-label">Контактный телефон</label>
                        <div class="input-group">
                            <input type="text" class="form-control" id="phoneNumber" placeholder="+7-999-999-99-99"
                                   th:name="phoneNumber"
                                   pattern="\+7\s?[\(]{0,1}9[0-9]{2}[\)]{0,1}\s?\d{3}[-]{0,1}\d{2}[-]{0,1}\d{2}"
                                   required>
                            <div class="invalid-feedback">
                                Пожалуйста введите контактный телефон работника.
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-5">
                        <label for="gender" class="form-label">Пол</label>
                        <select type="text" class="form-control" th:name="gender" id="gender" required>
                            <option value="">-- Тип--</option>
                            <option th:value="MALE">Мужской</option>
                            <option th:value="FEMALE">Женский</option>
                        </select>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-5">
                        <label for="family_status" class="form-label">Семейное положение</label>
                        <select type="text" class="form-control" th:name="familyStatus" id="family_status" required>
                            <option value="">-- Тип--</option>
                            <option th:value="SINGLE">Холост</option>
                            <option th:value="MARRIED">В браке</option>
                        </select>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-5">
                        <label for="minor_children" class="form-label">Не совершеннолетние дети</label>
                        <select type="text" class="form-control" th:name="minorChildren" id="minor_children" required>
                            <option value="">-- Тип--</option>
                            <option th:value="TRUE">Есть</option>
                            <option th:value="FALSE">Нет</option>
                        </select>
                    </div>
                </div>
                <hr>


                <div class="row">
                    <div class="col-sm-5">
                        <label for="startWork" class="form-label">Дата трудоустройства</label>
                        <div class="input-group">
                            <input type="date" class="form-control" id="startWork"
                                   th:name="startWork" placeholder="1782-12-17"
                                   th:min="${currentDate.minusWeeks(1)}" th:max="${currentDate.plusWeeks(2)}" required>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-5">
                        <div th:if="${ not #arrays.isEmpty(employPositions)}">
                            <label for="emplPos" class="form-label">Выберите должность</label>
                            <select type="text" class="form-control" th:name="employPosition" id="emplPos">
                                <option th:each="pos : ${employPositions}" th:value="${pos}" th:text="${pos}"></option>
                            </select>
                        </div>
                    </div>
                </div>
                <hr>
                <h4 class="mb-3">Добавьте паспортные данные</h4>
                <div class="row">
                    <div class="col-sm-5">
                        <label for="issued" class="form-label">Дата выдачи паспорта</label>
                        <div class="input-group">
                            <input type="date" class="form-control" id="issued"
                                   th:name="issued" placeholder="2010-10-10"
                                   th:min="${currentDate.minusYears(100)}" th:max="${currentDate.plusYears(100)}"
                                   required>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-5">
                        <label for="series" class="form-label">Серия паспорта</label>
                        <div class="input-group">
                            <input type="text" class="form-control" id="series" placeholder="5613"
                                   th:name="series"
                                   pattern="[0-9]{4}"
                                   required>
                        </div>
                    </div>
                    <div class="col-sm-5">
                        <label for="series" class="form-label">Номер паспорта</label>
                        <div class="input-group">
                            <input type="text" class="form-control" id="number" placeholder="193145"
                                   th:name="number"
                                   pattern="[0-9]{6}"
                                   required>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-5">
                        <label for="whoIssued" class="form-label">Кем выдан</label>
                        <div class="input-group">
                            <input type="text" class="form-control" id="whoIssued"
                                   placeholder="ТП УФМС РОССИИ...."
                                   th:name="whoIssued"
                                   required>
                        </div>
                    </div>
                </div>
                <hr>
                <div th:if="${ not #arrays.isEmpty(employPositions)}">
                    <button type="submit" class="btn btn-primary">Сохранить</button>
                </div>
        </div>


        </form>
        <div th:if="${ #lists.isEmpty(employPositions)}">
            <form action="#" th:action="@{'/empl/newEmplPos'}" method="GET">
                <input class="btn btn-primary" type="submit" value="Необходимо добавить должность"/>
            </form>
        </div>
        <hr>


    </div>
</div>
</div>
</div>
<footer class="my-5 pt-5 text-body-secondary text-center text-small">
    <p class="mb-1">&copy; 2023 AlekhinArt </p>
</footer>
</div>

</body>
</html>